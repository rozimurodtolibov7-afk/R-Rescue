<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>R-Rescue: Qutqaruvchi</title>
    <style>
        :root { --wall: #5d4037; --lava: #ff5722; --gold: #ffd700; --hero: #2196f3; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Arial Rounded MT Bold', sans-serif; }
        body { background: #222; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }

        .game-box { position: relative; width: 320px; height: 480px; background: #333; border: 8px solid var(--wall); border-radius: 20px; overflow: hidden; }
        
        /* Pins (To'siqlar) */
        .pin { position: absolute; height: 10px; background: #999; border-radius: 5px; cursor: pointer; z-index: 100; transition: transform 0.5s; }
        .pin::after { content: '‚≠ï'; position: absolute; right: -20px; top: -10px; font-size: 20px; }
        
        /* Elements */
        .entity { position: absolute; width: 50px; height: 50px; font-size: 40px; display: flex; align-items: center; justify-content: center; transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        
        #hero { top: 50px; left: 135px; z-index: 50; }
        #lava { top: 200px; left: 135px; color: var(--lava); }
        #treasure { bottom: 50px; left: 135px; }

        .msg { position: absolute; inset: 0; background: rgba(0,0,0,0.8); display: none; flex-direction: column; align-items: center; justify-content: center; color: white; z-index: 1000; text-align: center; padding: 20px; }
        .btn { background: var(--hero); border: none; padding: 10px 30px; border-radius: 20px; color: white; font-weight: bold; margin-top: 20px; cursor: pointer; }
    </style>
</head>
<body>

<div class="game-box">
    <div id="hero" class="entity">ü§†</div>
    <div id="lava" class="entity">üî•</div>
    <div id="treasure" class="entity">üí∞</div>

    <div id="pin1" class="pin" style="width: 200px; top: 150px; left: 60px;" onclick="pullPin('pin1', 'lava')"></div>
    <div id="pin2" class="pin" style="width: 200px; top: 300px; left: 60px;" onclick="pullPin('pin2', 'hero')"></div>

    <div id="status" class="msg">
        <h1 id="result-title"></h1>
        <button class="btn" onclick="location.reload()">QAYTA URINISH</button>
    </div>
</div>

<script>
    let lavaDropped = false;
    let heroDropped = false;

    function pullPin(pinId, type) {
        const pin = document.getElementById(pinId);
        pin.style.transform = "translateX(300px)";
        setTimeout(() => pin.style.display = "none", 500);

        if (type === 'lava') {
            dropItem('lava', 250);
            lavaDropped = true;
        } else if (type === 'hero') {
            if (lavaDropped) {
                gameOver("Qahramon yondi! üî•üòµ");
            } else {
                dropItem('hero', 380);
                setTimeout(() => win(), 600);
            }
        }
    }

    function dropItem(id, y) {
        const el = document.getElementById(id);
        el.style.top = y + "px";
    }

    function win() {
        document.getElementById('status').style.display = "flex";
        document.getElementById('result-title').innerText = "G'ALABA! Xazina sizniki! üèÜ";
        document.getElementById('result-title').style.color = "#ffd700";
    }

    function gameOver(txt) {
        document.getElementById('status').style.display = "flex";
        document.getElementById('result-title').innerText = txt;
        document.getElementById('result-title').style.color = "#ff5722";
    }
</script>
</body>
</html>